"use strict";(self.webpackChunkadv=self.webpackChunkadv||[]).push([[836],{3836:(k,g,a)=>{a.r(g),a.d(g,{ConstitucionalModule:()=>y});var l=a(9808),m=a(520),c=a(2382),f=a(459),u=a(7579),p=a(5243),h=a(9300),C=a(1884),t=a(1223),_=a(9019);let b=(()=>{class o{constructor(e){this.http=e,this.urlConstitucional=_.N.apiLink+"constituicao",this.urlConstitucionalEstadoSP=_.N.apiLink+"constituicaoEstadoSp"}getConstituicao(){return this.http.get(this.urlConstitucional)}getConstituicaoEstadoSP(){return this.http.get(this.urlConstitucionalEstadoSP)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(m.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function v(o,s){1&o&&(t.TgZ(0,"div",22)(1,"div",23)(2,"span",24),t._uU(3,"Loading..."),t.qZA()()())}function q(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"p",25),t.qZA()),2&o){const e=s.$implicit,n=s.index,r=t.oxw();t.uIk("id","paragrafo-"+n),t.xp6(1),t.Q6J("innerHTML",r.highlightWord(e,r.termoPesquisa),t.oJD)}}const T=function(o){return{visible:o}};let P=(()=>{class o{constructor(e,n){this.apiService=e,this.elementRef=n,this.paragrafos=[],this.termoPesquisa="",this.ocorrencias=[],this.ocorrenciaAtual=-1,this.isSearchVisible=!1,this.loading=!1,this.termoPesquisaSubject=new u.x,this.termoPesquisaDebounced=new u.x}onTermoPesquisaChange(e){this.termoPesquisaSubject.next(e)}ngOnInit(){this.loading=!0,this.apiService.getConstituicao().subscribe(e=>{if(console.log("Dados recebidos da API:",e),void 0!==e&&"object"==typeof e)if(e.hasOwnProperty("text")&&"string"==typeof e.text){let n=e.text.split(/(?=Art)/);n.length>0&&(n[0]=n[0].substring(3));let r=n.map(i=>((!(i=i.replace(/\([^)]+\)/g,"")).includes("(")||!i.includes(")"))&&(i=i.replace(/\\n/g,"")),(i=(i=i.replace(/ +/g," ")).replace(/\\+/g," ")).startsWith("Art")?"Artigo "+this.formatarParagrafo(i.replace(/^Art\s*/,"")).replace(".","").replace("<br>",""):this.formatarParagrafo(i)));r=r.map(i=>i.trim()).filter(i=>""!==i),this.paragrafos=r,this.atualizarOcorrencias(),this.loading=!1}else console.error('Dados inv\xe1lidos recebidos da API: Propriedade "text" n\xe3o encontrada ou n\xe3o \xe9 uma string');else console.error("Dados inv\xe1lidos recebidos da API: Resposta n\xe3o \xe9 um objeto v\xe1lido")}),this.termoPesquisaDebounced.pipe((0,p.b)(300)).subscribe(e=>{this.termoPesquisa=e,this.atualizarOcorrencias()}),this.termoPesquisaSubject.pipe((0,p.b)(300),(0,h.h)(e=>""!==e.trim()),(0,h.h)(e=>e.length>5),(0,C.x)()).subscribe(e=>{this.termoPesquisaDebounced.next(e)})}toggleSearch(){this.isSearchVisible=!this.isSearchVisible;const e=document.querySelector(".search-container");e&&(this.isSearchVisible?(e.classList.remove("hidden"),e.classList.add("slide-in-right")):(e.classList.remove("slide-in-right"),e.classList.add("slide-out-left"),setTimeout(()=>{e.classList.add("hidden")},500)))}scrollToParagrafo(e){const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}pesquisarProximaOcorrencia(){0!==this.ocorrencias.length&&(this.ocorrenciaAtual=(this.ocorrenciaAtual+1)%this.ocorrencias.length,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual]))}pesquisarOcorrenciaAnterior(){0!==this.ocorrencias.length&&(this.ocorrenciaAtual=(this.ocorrenciaAtual-1+this.ocorrencias.length)%this.ocorrencias.length,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual]))}atualizarOcorrencias(){this.ocorrencias=[];const e=this.termoPesquisa.trim().toLowerCase();if(""!==e)for(let n=0;n<this.paragrafos.length;n++)this.paragrafos[n].toLowerCase().includes(e)&&this.ocorrencias.push(n)}highlightWord(e,n){if(!n||""===n.trim()||n.length<=5)return e;const r=new RegExp("("+n+")","gi");return e.replace(r,'<span class="highlight">$1</span>')}pesquisar(){""!==this.termoPesquisa.trim().toLowerCase()&&(this.atualizarOcorrencias(),0===this.ocorrencias.length?alert("Palavra-chave n\xe3o encontrada nos par\xe1grafos."):(this.ocorrenciaAtual=0,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual])))}formatarParagrafo(e){return e.split(/([.;:])/).map(n=>n.trim()+(n.trim()&&/[.;:]$/.test(n.trim())?"<br>":"")).join("")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-constituicao"]],decls:34,vars:7,consts:[["class","spinner-container",4,"ngIf"],[1,"container","containerFind","mt-3"],[1,"row",2,"position","relative"],[1,"col-sm-12","search-container-parent"],[1,"search-container-body"],[1,"btn","toggle-search-button",3,"click"],[1,"fas","fa-search"],[1,"search-container",3,"ngClass"],["type","text","placeholder","Pesquisar",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","search-button",3,"click"],[1,"fas","fa-chevron-up"],[1,"fas","fa-chevron-down"],[1,"container","mt-3"],[1,"row"],[1,"col","search-container",2,"display","flex"],["type","text","placeholder","Digite sua pesquisa aqui",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"component","componentSection"],[1,"container"],[1,"col-sm-12","text-center"],[1,"row","mt-4"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],[1,"spinner-container"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.YNc(0,v,4,0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return n.toggleSearch()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7)(8,"input",8),t.NdJ("ngModelChange",function(i){return n.termoPesquisa=i})("keyup.enter",function(){return n.pesquisar()})("ngModelChange",function(i){return n.onTermoPesquisaChange(i)}),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){return n.pesquisar()}),t._UZ(10,"i",6),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return n.pesquisarProximaOcorrencia()}),t._UZ(12,"i",10),t.qZA(),t.TgZ(13,"button",9),t.NdJ("click",function(){return n.pesquisarOcorrenciaAnterior()}),t._UZ(14,"i",11),t.qZA()()()()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"input",15),t.NdJ("ngModelChange",function(i){return n.termoPesquisa=i})("keyup.enter",function(){return n.pesquisar()}),t.qZA(),t.TgZ(19,"button",9),t.NdJ("click",function(){return n.pesquisar()}),t._uU(20,"Pesquisar"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return n.pesquisarProximaOcorrencia()}),t._UZ(22,"i",10),t.qZA(),t.TgZ(23,"button",9),t.NdJ("click",function(){return n.pesquisarOcorrenciaAnterior()}),t._UZ(24,"i",11),t.qZA()()()(),t.TgZ(25,"section",16)(26,"div",17)(27,"div",13)(28,"div",18)(29,"h1"),t._uU(30,"Constitucional"),t.qZA()()(),t.TgZ(31,"div",19)(32,"div",20),t.YNc(33,q,2,2,"div",21),t.qZA()()()()),2&e&&(t.Q6J("ngIf",n.loading),t.xp6(7),t.Q6J("ngClass",t.VKq(5,T,n.isSearchVisible)),t.xp6(1),t.Q6J("ngModel",n.termoPesquisa),t.xp6(10),t.Q6J("ngModel",n.termoPesquisa),t.xp6(15),t.Q6J("ngForOf",n.paragrafos))},directives:[l.O5,l.mk,c.Fj,c.JJ,c.On,l.sg],styles:['@charset "UTF-8";.search-container-parent[_ngcontent-%COMP%]{position:fixed;margin-top:80px}.search-container-parent[_ngcontent-%COMP%]   .search-container-body[_ngcontent-%COMP%]{display:flex}.search-container-parent[_ngcontent-%COMP%]   .toggle-search-button[_ngcontent-%COMP%]{background-color:#00aeef;color:#fff;border-radius:30px;height:42px}.containerFind[_ngcontent-%COMP%]{position:fixed}.componentSection[_ngcontent-%COMP%]{padding-top:150px}.search-container[_ngcontent-%COMP%]{display:none;align-items:center;animation-duration:.5s;animation-timing-function:ease;animation-fill-mode:forwards;width:-webkit-fill-available}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-left:3px}.search-button[_ngcontent-%COMP%]{padding:4px}.visible[_ngcontent-%COMP%]{display:flex;animation-name:slideInRight}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .1rem #0d6efd40}@keyframes slideInRight{0%{transform:translate(100%)}to{transform:translate(0)}}']}),o})();function A(o,s){1&o&&(t.TgZ(0,"div",22)(1,"div",23)(2,"span",24),t._uU(3,"Loading..."),t.qZA()()())}function Z(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"p",25),t.qZA()),2&o){const e=s.$implicit,n=s.index,r=t.oxw();t.uIk("id","paragrafo-"+n),t.xp6(1),t.Q6J("innerHTML",r.highlightWord(e,r.termoPesquisa),t.oJD)}}const S=function(o){return{visible:o}},M=[{path:"",children:[{path:"",component:P},{path:"constitucional",component:P},{path:"constitucional-estado-sp",component:(()=>{class o{constructor(e,n){this.apiService=e,this.elementRef=n,this.paragrafos=[],this.termoPesquisa="",this.ocorrencias=[],this.ocorrenciaAtual=-1,this.isSearchVisible=!1,this.loading=!1,this.termoPesquisaSubject=new u.x,this.termoPesquisaDebounced=new u.x}onTermoPesquisaChange(e){this.termoPesquisaSubject.next(e)}ngOnInit(){this.loading=!0,this.apiService.getConstituicaoEstadoSP().subscribe(e=>{if(console.log("Dados recebidos da API:",e),void 0!==e&&"object"==typeof e)if(e.hasOwnProperty("text")&&"string"==typeof e.text){let n=e.text.split(/(?=Art)/);n.length>0&&(n[0]=n[0].substring(3));let r=n.map(i=>((!(i=i.replace(/\([^)]+\)/g,"")).includes("(")||!i.includes(")"))&&(i=i.replace(/\\n/g,"")),(i=(i=i.replace(/ +/g," ")).replace(/\\+/g," ")).startsWith("Art")?"Artigo "+this.formatarParagrafo(i.replace(/^Art\s*/,"")).replace(".","").replace("<br>",""):this.formatarParagrafo(i)));r=r.map(i=>i.trim()).filter(i=>""!==i),this.paragrafos=r,this.atualizarOcorrencias(),this.loading=!1}else console.error('Dados inv\xe1lidos recebidos da API: Propriedade "text" n\xe3o encontrada ou n\xe3o \xe9 uma string');else console.error("Dados inv\xe1lidos recebidos da API: Resposta n\xe3o \xe9 um objeto v\xe1lido")}),this.termoPesquisaDebounced.pipe((0,p.b)(300)).subscribe(e=>{this.termoPesquisa=e,this.atualizarOcorrencias()}),this.termoPesquisaSubject.pipe((0,p.b)(300),(0,h.h)(e=>""!==e.trim()),(0,h.h)(e=>e.length>5),(0,C.x)()).subscribe(e=>{this.termoPesquisaDebounced.next(e)})}toggleSearch(){this.isSearchVisible=!this.isSearchVisible;const e=document.querySelector(".search-container");e&&(this.isSearchVisible?(e.classList.remove("hidden"),e.classList.add("slide-in-right")):(e.classList.remove("slide-in-right"),e.classList.add("slide-out-left"),setTimeout(()=>{e.classList.add("hidden")},500)))}scrollToParagrafo(e){const n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}pesquisarProximaOcorrencia(){0!==this.ocorrencias.length&&(this.ocorrenciaAtual=(this.ocorrenciaAtual+1)%this.ocorrencias.length,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual]))}pesquisarOcorrenciaAnterior(){0!==this.ocorrencias.length&&(this.ocorrenciaAtual=(this.ocorrenciaAtual-1+this.ocorrencias.length)%this.ocorrencias.length,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual]))}atualizarOcorrencias(){this.ocorrencias=[];const e=this.termoPesquisa.trim().toLowerCase();if(""!==e)for(let n=0;n<this.paragrafos.length;n++)this.paragrafos[n].toLowerCase().includes(e)&&this.ocorrencias.push(n)}highlightWord(e,n){if(!n||""===n.trim()||n.length<=5)return e;const r=new RegExp("("+n+")","gi");return e.replace(r,'<span class="highlight">$1</span>')}pesquisar(){""!==this.termoPesquisa.trim().toLowerCase()&&(this.atualizarOcorrencias(),0===this.ocorrencias.length?alert("Palavra-chave n\xe3o encontrada nos par\xe1grafos."):(this.ocorrenciaAtual=0,this.scrollToParagrafo("paragrafo-"+this.ocorrencias[this.ocorrenciaAtual])))}formatarParagrafo(e){return e.split(/([.;:])/).map(n=>n.trim()+(n.trim()&&/[.;:]$/.test(n.trim())?"<br>":"")).join("")}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(b),t.Y36(t.SBq))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-constitucional-estado-sp"]],decls:34,vars:7,consts:[["class","spinner-container",4,"ngIf"],[1,"container","containerFind","mt-3"],[1,"row",2,"position","relative"],[1,"col-sm-12","search-container-parent"],[1,"search-container-body"],[1,"btn","toggle-search-button",3,"click"],[1,"fas","fa-search"],[1,"search-container",3,"ngClass"],["type","text","placeholder","Pesquisar",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","search-button",3,"click"],[1,"fas","fa-chevron-up"],[1,"fas","fa-chevron-down"],[1,"container","mt-3"],[1,"row"],[1,"col","search-container",2,"display","flex"],["type","text","placeholder","Digite sua pesquisa aqui",1,"form-control","search-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"component","componentSection"],[1,"container"],[1,"col-sm-12","text-center"],[1,"row","mt-4"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],[1,"spinner-container"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[3,"innerHTML"]],template:function(e,n){1&e&&(t.YNc(0,A,4,0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),t.NdJ("click",function(){return n.toggleSearch()}),t._UZ(6,"i",6),t.qZA(),t.TgZ(7,"div",7)(8,"input",8),t.NdJ("ngModelChange",function(i){return n.termoPesquisa=i})("keyup.enter",function(){return n.pesquisar()})("ngModelChange",function(i){return n.onTermoPesquisaChange(i)}),t.qZA(),t.TgZ(9,"button",9),t.NdJ("click",function(){return n.pesquisar()}),t._UZ(10,"i",6),t.qZA(),t.TgZ(11,"button",9),t.NdJ("click",function(){return n.pesquisarProximaOcorrencia()}),t._UZ(12,"i",10),t.qZA(),t.TgZ(13,"button",9),t.NdJ("click",function(){return n.pesquisarOcorrenciaAnterior()}),t._UZ(14,"i",11),t.qZA()()()()()(),t.TgZ(15,"div",12)(16,"div",13)(17,"div",14)(18,"input",15),t.NdJ("ngModelChange",function(i){return n.termoPesquisa=i})("keyup.enter",function(){return n.pesquisar()}),t.qZA(),t.TgZ(19,"button",9),t.NdJ("click",function(){return n.pesquisar()}),t._uU(20,"Pesquisar"),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return n.pesquisarProximaOcorrencia()}),t._UZ(22,"i",10),t.qZA(),t.TgZ(23,"button",9),t.NdJ("click",function(){return n.pesquisarOcorrenciaAnterior()}),t._UZ(24,"i",11),t.qZA()()()(),t.TgZ(25,"section",16)(26,"div",17)(27,"div",13)(28,"div",18)(29,"h1"),t._uU(30,"Constitucional Estado SP"),t.qZA()()(),t.TgZ(31,"div",19)(32,"div",20),t.YNc(33,Z,2,2,"div",21),t.qZA()()()()),2&e&&(t.Q6J("ngIf",n.loading),t.xp6(7),t.Q6J("ngClass",t.VKq(5,S,n.isSearchVisible)),t.xp6(1),t.Q6J("ngModel",n.termoPesquisa),t.xp6(10),t.Q6J("ngModel",n.termoPesquisa),t.xp6(15),t.Q6J("ngForOf",n.paragrafos))},directives:[l.O5,l.mk,c.Fj,c.JJ,c.On,l.sg],styles:['@charset "UTF-8";.search-container-parent[_ngcontent-%COMP%]{position:fixed;margin-top:80px}.search-container-parent[_ngcontent-%COMP%]   .search-container-body[_ngcontent-%COMP%]{display:flex}.search-container-parent[_ngcontent-%COMP%]   .toggle-search-button[_ngcontent-%COMP%]{background-color:#00aeef;color:#fff;border-radius:30px;height:42px}.containerFind[_ngcontent-%COMP%]{position:fixed}.componentSection[_ngcontent-%COMP%]{padding-top:150px}.search-container[_ngcontent-%COMP%]{display:none;align-items:center;animation-duration:.5s;animation-timing-function:ease;animation-fill-mode:forwards;width:-webkit-fill-available}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{margin-left:3px}.search-button[_ngcontent-%COMP%]{padding:4px}.visible[_ngcontent-%COMP%]{display:flex;animation-name:slideInRight}.form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .1rem #0d6efd40}@keyframes slideInRight{0%{transform:translate(100%)}to{transform:translate(0)}}']}),o})()}]}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[f.Bz.forChild(M)],f.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,m.JF,c.u5,c.UX,O]]}),o})()}}]);